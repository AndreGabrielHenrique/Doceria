// Estilos SASS para o componente Visual (galeria + modal)
// Local: src/components/Visual/Visual.sass

.visual
  margin-top: 20px
  margin-bottom: 38px

  div
    display: flex
    flex-direction: row       // Layout em linha para desktop
    flex-wrap: wrap           // Quebra autom√°tica de linha quando necess√°rio
    gap: 20px                 // Espa√ßamento uniforme entre imagens

  img
    width: 490px              // Largura maior que outras galerias para visual aprimorado
    height: 200px             // Altura consistente com outras galerias
    object-fit: cover         // Corta imagem proporcionalmente mantendo aspecto
    transition: transform 0.3s ease
    will-change: transform    // Otimiza√ß√£o de performance para anima√ß√µes

    &:hover
      transform: scale(1.05)  // Efeito de zoom sutil ao passar mouse
      cursor: zoom-in         // Cursor indica a√ß√£o de amplia√ß√£o poss√≠vel

/* üî• MODAL ‚Äî Estilos fora da classe .visual (escopo global) */
.imagem-modal
  position: fixed
  inset: 0                    // Abrevia√ß√£o para top:0; right:0; bottom:0; left:0;
  z-index: 9998               // Z-index alto para sobrepor todo conte√∫do da p√°gina
  background: rgba(0, 0, 0, 0.75) // Overlay escuro semi-transparente
  display: flex
  align-items: center
  justify-content: center
  animation: fadeIn 0.25s ease forwards // Anima√ß√£o de entrada com easing linear

  &.fechando
    animation: fadeOut 0.25s ease forwards // Anima√ß√£o de sa√≠da

  img
    max-width: 90%            // Limita largura m√°xima a 90% da viewport
    max-height: 90%           // Limita altura m√°xima a 90% da viewport
    animation: zoomIn 0.25s ease forwards
    cursor: zoom-out          // Cursor indica a√ß√£o de fechamento
    user-select: none         // Impede sele√ß√£o de texto da imagem
    -webkit-user-drag: none   // Impede arrastar imagem no Safari
    pointer-events: auto      // Garante que eventos de mouse funcionem na imagem
    touch-action: pan-y       // Permite apenas scroll vertical em dispositivos touch
    transition: transform 0.35s cubic-bezier(.4,0,.2,1) // Transi√ß√£o suave com easing personalizado
    will-change: transform    // Otimiza√ß√£o para anima√ß√µes de transform

  &.fechando img
    animation: zoomOut 0.25s ease forwards

  .modal-conteudo
    position: relative
    width: 100%
    height: 100%
    display: inline-flex
    align-items: center
    justify-content: center

    .imagem-wrapper
      position: relative
      display: flex
      flex-direction: column
      align-items: center
      justify-content: center

.imagem-modal-img
  max-width: 90%
  max-height: 90%
  cursor: zoom-out
  user-select: none
  -webkit-user-drag: none
  pointer-events: auto
  touch-action: pan-y
  will-change: transform, opacity // Otimiza√ß√£o para m√∫ltiplas propriedades
  animation: slideIn .35s cubic-bezier(.4,0,.2,1) // Anima√ß√£o base de entrada

  &.left
    animation: slideInFromRight .35s cubic-bezier(.4,0,.2,1) // Anima√ß√£o especial para entrada da direita

  &.right
    animation: slideInFromLeft .35s cubic-bezier(.4,0,.2,1) // Anima√ß√£o especial para entrada da esquerda

.nav
  position: absolute
  inset-block: 0              // Posiciona verticalmente ao centro (top e bottom 0 + margin auto)
  margin: auto 0
  z-index: 9999               // Z-index acima do modal

  width: 56px
  height: 56px

  display: flex
  align-items: center
  justify-content: center

  font-size: 56px
  line-height: 56px

  background: none !important // Remove qualquer estilo de fundo
  border: 0 !important        // Remove bordas
  padding: 0
  box-shadow: none !important // Remove sombras

  color: #fff                 // Texto branco
  cursor: pointer

  user-select: none           // Impede sele√ß√£o de texto
  -webkit-user-drag: none     // Impede arrastar no Safari
  outline: none               // Remove outline padr√£o do navegador

  opacity: 1
  transform: translateX(0)
  transition: opacity .25s ease, transform .25s ease // Transi√ß√µes suaves para hover/active
  pointer-events: auto        // Garante que bot√£o seja clic√°vel

  &:hover
    color: #aaa               // Cor mais clara ao passar mouse
    background: none

  &:active
    color: #006599            // Cor da marca ao clicar
    background: none

  &:focus,
  &:focus-visible
    outline: none
    background: none

  &.prev
    left: 20px                // Posiciona √† esquerda com margem

  &.next
    right: 20px               // Posiciona √† direita com margem

.nav::-moz-focus-inner        // Regra espec√≠fica para Firefox
  border: 0

.swipe-hint
  display: none               // Oculta por padr√£o (ser√° mostrado apenas em mobile)

// DEFINI√á√ïES DE ANIMA√á√ïES CSS
@keyframes fadeIn
  from
    opacity: 0
  to
    opacity: 1

@keyframes fadeOut
  to
    opacity: 0

@keyframes zoomIn
  from
    transform: scale(0.85)
  to
    transform: scale(1)

@keyframes zoomOut
  to
    transform: scale(0.85)

@keyframes slideIn
  from
    opacity: .6
    transform: scale(.96)
  to
    opacity: 1
    transform: scale(1)

@keyframes slideInFromRight
  from
    opacity: .6
    transform: translateX(60px)
  to
    opacity: 1
    transform: translateX(0)

@keyframes slideInFromLeft
  from
    opacity: .6
    transform: translateX(-60px)
  to
    opacity: 1
    transform: translateX(0)

@keyframes swipeFade
  0%
    opacity: 0
  15%
    opacity: 1
  80%
    opacity: 1
  100%
    opacity: 0

@keyframes swipeIn
  from
    opacity: 0
    transform: translateY(-10px)
  to
    opacity: 1
    transform: translateY(0)

@keyframes swipeOut
  from
    opacity: 1
    transform: translateY(0)
  to
    opacity: 0
    transform: translateY(10px)

// MEDIA QUERIES PARA RESPONSIVIDADE
@media (max-width: 800px)
  .visual
    margin-left: 0           // Remove margem lateral em mobile
    
    img
      width: 100%            // Imagens ocupam 100% da largura do container em mobile
  
  .imagem-modal
    flex-direction: column   // Organiza conte√∫do em coluna

  .nav
    opacity: 0               // Oculta bot√µes de navega√ß√£o em mobile
    pointer-events: none     // Desabilita intera√ß√£o

    &.prev
      transform: translateX(-20px)

    &.next
      transform: translateX(20px)

  .swipe-hint
    display: block           // Exibe apenas em dispositivos m√≥veis
    position: absolute
    top: 100%
    margin-top: 76px
    width: 120px
    z-index: 10001           // Acima de outros elementos do modal
    pointer-events: none     // N√£o interfere com intera√ß√µes do usu√°rio
    opacity: 0
    transform: translateY(10px)

    &.ativa
      // Anima√ß√£o combinada: entrada suave seguida de sa√≠da ap√≥s 3.1 segundos
      animation: swipeIn .4s ease forwards, swipeOut .4s ease forwards 3.1s